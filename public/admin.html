<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dior Kazino â€“ Admin Panel</title>

<style>
*{box-sizing:border-box}
body{
    margin:0;
    min-height:100vh;
    font-family:Arial,Helvetica,sans-serif;
    background:radial-gradient(circle at top,#0f172a,#020617);
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
}
.container{
    width:100%;
    max-width:900px;
    padding:20px;
}
.box{
    background:rgba(2,6,23,.95);
    border:1px solid rgba(34,197,94,.25);
    border-radius:18px;
    padding:24px;
    box-shadow:0 0 40px rgba(34,197,94,.25);
}
.logo{
    text-align:center;
    font-size:26px;
    font-weight:bold;
    letter-spacing:2px;
    color:#22c55e;
    margin-bottom:6px;
}
.subtitle{
    text-align:center;
    font-size:13px;
    color:#94a3b8;
    margin-bottom:20px;
}
input,button{
    width:100%;
    padding:12px;
    margin-top:10px;
    border-radius:10px;
    border:none;
    font-size:14px;
}
input{
    background:#020617;
    border:1px solid #334155;
    color:#fff;
}
input:focus{
    outline:none;
    border-color:#22c55e;
}
button{
    background:linear-gradient(135deg,#22c55e,#16a34a);
    color:#020617;
    font-weight:bold;
    cursor:pointer;
}
button:hover{opacity:.9}
#error{
    margin-top:10px;
    color:#ef4444;
    text-align:center;
    font-size:13px;
}

/* PANEL */
.panel{
    display:none;
}
table{
    width:100%;
    border-collapse:collapse;
    margin-top:16px;
    font-size:13px;
}
th,td{
    border:1px solid #334155;
    padding:10px;
    text-align:center;
}
th{
    background:#020617;
    color:#22c55e;
}
.good{color:#22c55e;font-weight:bold}
.bad{color:#ef4444;font-weight:bold}

.footer{
    margin-top:16px;
    text-align:center;
    font-size:11px;
    color:#475569;
}
</style>
</head>

<body>

<div class="container">

    <!-- LOGIN -->
    <div class="box login" id="loginBox">
        <div class="logo">ðŸŽ° DIOR ADMIN</div>
        <div class="subtitle">Ä°darÉ™etmÉ™ paneli</div>

        <form id="loginForm">
            <input id="username" placeholder="Admin adÄ±">
            <input id="password" type="password" placeholder="ÅžifrÉ™">
            <button type="submit">Daxil ol</button>
            <div id="error"></div>
        </form>
    </div>

    <!-- PANEL -->
    <div class="box panel" id="panel">
        <div class="logo">ðŸ“Š GiriÅŸ LoglarÄ±</div>
        <div class="subtitle">Sistem aktivliyi</div>

        <table>
            <thead>
                <tr>
                    <th>Tarix</th>
                    <th>Kod</th>
                    <th>Status</th>
                    <th>IP</th>
                    <th>Cihaz</th>
                </tr>
            </thead>
            <tbody id="logTable"></tbody>
        </table>

        <div class="footer">
            Â© 2026 Dior Kazino â€“ Admin Panel
        </div>
    </div>

</div>

<script>
document.getElementById("loginForm").addEventListener("submit",function(e){
    e.preventDefault();

    const user=document.getElementById("username").value;
    const pass=document.getElementById("password").value;

    fetch("/admin-login",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({username:user,password:pass})
    })
    .then(r=>r.json())
    .then(d=>{
        if(d.success){
            document.getElementById("loginBox").style.display="none";
            document.getElementById("panel").style.display="block";
            loadLogs();
        }else{
            document.getElementById("error").innerText="âŒ Login sÉ™hvdir";
        }
    });
});

function loadLogs(){
    fetch("/logs")
    .then(r=>r.json())
    .then(logs=>{
        const t=document.getElementById("logTable");
        t.innerHTML="";
        logs.reverse().forEach(l=>{
            const tr=document.createElement("tr");
            tr.innerHTML=`
                <td>${l.time}</td>
                <td>${l.code}</td>
                <td class="${l.valid?'good':'bad'}">
                    ${l.valid?'DÃ¼z':'SÉ™hv'}
                </td>
                <td>${l.ip||'-'}</td>
                <td>${l.agent}</td>
            `;
            t.appendChild(tr);
        });
    });
}
</script>

</body>
</html>
